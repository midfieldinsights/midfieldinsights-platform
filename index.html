<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Market Research Platform</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Login Screen -->
    <div id="login-screen" class="login-container">
        <div class="login-card card">
            <div class="card__body">
                <h1 class="login-title">Market Research Platform</h1>
                <p class="login-subtitle">Select your role to continue</p>
                
                <div class="role-selection">
                    <button class="btn btn--primary role-btn" data-role="client">
                        <div class="role-info">
                            <h3>Client</h3>
                            <p>Create projects and manage market research</p>
                        </div>
                    </button>
                    
                    <button class="btn btn--primary role-btn" data-role="supplier">
                        <div class="role-info">
                            <h3>Supplier</h3>
                            <p>Bid on projects and manage surveys</p>
                        </div>
                    </button>
                    
                    <button class="btn btn--primary role-btn" data-role="admin">
                        <div class="role-info">
                            <h3>Admin</h3>
                            <p>Platform administration and oversight</p>
                        </div>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Application -->
    <div id="main-app" class="hidden">
        <!-- Navigation Header -->
        <header class="app-header">
            <div class="container">
                <div class="header-content">
                    <div class="logo">
                        <h2>Market Research Platform</h2>
                    </div>
                    <div class="user-info">
                        <span id="current-user">Welcome, User</span>
                        <button class="btn btn--outline btn--sm" id="logout-btn">Logout</button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Navigation Tabs -->
        <nav class="app-nav">
            <div class="container">
                <div class="nav-tabs">
                    <button class="nav-tab active" data-tab="dashboard">Dashboard</button>
                    <button class="nav-tab" data-tab="projects">Projects</button>
                    <button class="nav-tab" data-tab="vendors">Vendors</button>
                    <button class="nav-tab" data-tab="surveys">Surveys</button>
                    <button class="nav-tab" data-tab="analytics">Analytics</button>
                </div>
            </div>
        </nav>

        <!-- Dashboard Tab -->
        <div id="dashboard-tab" class="tab-content active">
            <div class="container">
                <div class="dashboard-grid">
                    <!-- Metrics Cards -->
                    <div class="metrics-row">
                        <div class="metric-card card">
                            <div class="card__body">
                                <h3 id="active-projects-count">2</h3>
                                <p>Active Projects</p>
                            </div>
                        </div>
                        <div class="metric-card card">
                            <div class="card__body">
                                <h3 id="total-vendors-count">3</h3>
                                <p>Active Vendors</p>
                            </div>
                        </div>
                        <div class="metric-card card">
                            <div class="card__body">
                                <h3 id="total-responses-count">680</h3>
                                <p>Total Responses</p>
                            </div>
                        </div>
                        <div class="metric-card card">
                            <div class="card__body">
                                <h3 id="completion-rate">68%</h3>
                                <p>Completion Rate</p>
                            </div>
                        </div>
                    </div>

                    <!-- Recent Activity -->
                    <div class="recent-activity card">
                        <div class="card__header">
                            <h3>Recent Activity</h3>
                        </div>
                        <div class="card__body">
                            <div class="activity-list" id="activity-list">
                                <!-- Activity items will be populated by JavaScript -->
                            </div>
                        </div>
                    </div>

                    <!-- Quick Actions -->
                    <div class="quick-actions card" id="quick-actions">
                        <div class="card__header">
                            <h3>Quick Actions</h3>
                        </div>
                        <div class="card__body">
                            <div class="action-buttons" id="action-buttons">
                                <!-- Action buttons will be populated based on role -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Projects Tab -->
        <div id="projects-tab" class="tab-content">
            <div class="container">
                <div class="section-header">
                    <h2>Projects</h2>
                    <button class="btn btn--primary" id="create-project-btn">Create New Project</button>
                </div>
                
                <div class="projects-grid" id="projects-grid">
                    <!-- Project cards will be populated by JavaScript -->
                </div>
            </div>
        </div>

        <!-- Vendors Tab -->
        <div id="vendors-tab" class="tab-content">
            <div class="container">
                <div class="section-header">
                    <h2>Vendor Management</h2>
                    <button class="btn btn--primary" id="add-vendor-btn">Add New Vendor</button>
                </div>
                
                <div class="vendors-filters">
                    <div class="filters-row">
                        <input type="text" class="form-control" id="vendor-search" placeholder="Search vendors...">
                        <select class="form-control" id="vendor-specialty-filter">
                            <option value="">All Specialties</option>
                            <option value="Consumer Electronics">Consumer Electronics</option>
                            <option value="Healthcare">Healthcare</option>
                            <option value="General Population">General Population</option>
                        </select>
                        <select class="form-control" id="vendor-status-filter">
                            <option value="">All Status</option>
                            <option value="active">Active</option>
                            <option value="inactive">Inactive</option>
                        </select>
                    </div>
                </div>
                
                <div class="vendors-grid" id="vendors-grid">
                    <!-- Vendor cards will be populated by JavaScript -->
                </div>
            </div>
        </div>

        <!-- Surveys Tab -->
        <div id="surveys-tab" class="tab-content">
            <div class="container">
                <div class="section-header">
                    <h2>Survey Management</h2>
                    <button class="btn btn--primary" id="create-survey-btn">Create Survey</button>
                </div>
                
                <div class="surveys-grid" id="surveys-grid">
                    <!-- Survey cards will be populated by JavaScript -->
                </div>
            </div>
        </div>

        <!-- Analytics Tab -->
        <div id="analytics-tab" class="tab-content">
            <div class="container">
                <div class="section-header">
                    <h2>Analytics & Reporting</h2>
                </div>
                
                <div class="analytics-grid">
                    <div class="chart-container card" style="position: relative; height: 400px;">
                        <div class="card__header">
                            <h3>Daily Response Trends</h3>
                        </div>
                        <div class="card__body">
                            <canvas id="response-chart"></canvas>
                        </div>
                    </div>
                    
                    <div class="chart-container card" style="position: relative; height: 400px;">
                        <div class="card__header">
                            <h3>Vendor Performance</h3>
                        </div>
                        <div class="card__body">
                            <canvas id="vendor-chart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Create Project Modal -->
    <div id="create-project-modal" class="modal hidden">
        <div class="modal-overlay">
            <div class="modal-content card">
                <div class="card__header">
                    <h3>Create New Project</h3>
                    <button class="close-modal">&times;</button>
                </div>
                <div class="card__body">
                    <form id="create-project-form">
                        <div class="form-group">
                            <label class="form-label">Project Title</label>
                            <input type="text" class="form-control" name="title" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Description</label>
                            <textarea class="form-control" name="description" rows="3" required></textarea>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Target Audience</label>
                            <input type="text" class="form-control" name="target_audience" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Sample Size</label>
                            <input type="number" class="form-control" name="sample_size" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Budget ($)</label>
                            <input type="number" class="form-control" name="budget" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Cost per Complete ($)</label>
                            <input type="number" step="0.01" class="form-control" name="cpc" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Deadline</label>
                            <input type="date" class="form-control" name="deadline" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Survey Link</label>
                            <input type="url" class="form-control" name="survey_link" placeholder="https://surveys.example.com/your-survey" required>
                        </div>
                        <div class="form-actions">
                            <button type="button" class="btn btn--outline close-modal">Cancel</button>
                            <button type="submit" class="btn btn--primary">Create Project</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Project Details Modal -->
    <div id="project-details-modal" class="modal modal--large hidden">
        <div class="modal-overlay">
            <div class="modal-content card">
                <div class="card__header">
                    <h3 id="project-details-title">Project Details</h3>
                    <button class="close-modal">&times;</button>
                </div>
                <div class="card__body">
                    <div class="project-details-tabs">
                        <button class="tab-btn active" data-detail-tab="overview">Overview</button>
                        <button class="tab-btn" data-detail-tab="vendors">Vendors</button>
                        <button class="tab-btn" data-detail-tab="redirects">Redirect URLs</button>
                        <button class="tab-btn" data-detail-tab="launch">Launch</button>
                    </div>
                    
                    <div id="overview-detail" class="detail-tab-content active">
                        <div id="project-overview-content"></div>
                    </div>
                    
                    <div id="vendors-detail" class="detail-tab-content">
                        <div class="vendor-selection">
                            <h4>Assign Vendors</h4>
                            <div id="vendor-assignment-list"></div>
                            <button class="btn btn--primary" id="save-vendor-assignments">Save Assignments</button>
                        </div>
                    </div>
                    
                    <div id="redirects-detail" class="detail-tab-content">
                        <div class="redirect-configuration">
                            <h4>Configure Redirect URLs</h4>
                            <div class="form-group">
                                <label class="form-label">Complete URL</label>
                                <input type="url" class="form-control" id="complete-redirect" placeholder="https://platform.midfieldinsights.com/complete?pid={PROJECT_ID}&clickid={CLICK_ID}&status=complete&vendor={VENDOR_ID}">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Screenout URL</label>  
                                <input type="url" class="form-control" id="screenout-redirect" placeholder="https://platform.midfieldinsights.com/screenout?pid={PROJECT_ID}&clickid={CLICK_ID}&status=screenout&vendor={VENDOR_ID}">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Quota Full URL</label>
                                <input type="url" class="form-control" id="quota-redirect" placeholder="https://platform.midfieldinsights.com/quota?pid={PROJECT_ID}&clickid={CLICK_ID}&status=quota_full&vendor={VENDOR_ID}">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Incomplete URL</label>
                                <input type="url" class="form-control" id="incomplete-redirect" placeholder="https://platform.midfieldinsights.com/incomplete?pid={PROJECT_ID}&clickid={CLICK_ID}&status=incomplete&vendor={VENDOR_ID}">
                            </div>
                            <button class="btn btn--primary" id="save-redirects">Save Redirect URLs</button>
                        </div>
                    </div>
                    
                    <div id="launch-detail" class="detail-tab-content">
                        <div class="launch-management">
                            <h4>Launch Survey</h4>
                            <div class="launch-status" id="launch-status"></div>
                            <div class="launch-actions">
                                <button class="btn btn--primary" id="launch-survey-btn">Launch Survey</button>
                                <button class="btn btn--outline" id="pause-survey-btn">Pause Survey</button>
                                <button class="btn btn--outline" id="send-invitations-btn">Send Vendor Invitations</button>
                            </div>
                            <div class="vendor-invitations" id="vendor-invitations">
                                <h5>Vendor Invitations</h5>
                                <div id="invitation-list"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Vendor Modal -->
    <div id="add-vendor-modal" class="modal hidden">
        <div class="modal-overlay">
            <div class="modal-content card">
                <div class="card__header">
                    <h3>Add New Vendor</h3>
                    <button class="close-modal">&times;</button>
                </div>
                <div class="card__body">
                    <form id="add-vendor-form">
                        <div class="form-group">
                            <label class="form-label">Vendor Name</label>
                            <input type="text" class="form-control" name="name" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Contact Email</label>
                            <input type="email" class="form-control" name="contact_email" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Contact Person</label>
                            <input type="text" class="form-control" name="contact_person" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Phone</label>
                            <input type="tel" class="form-control" name="phone" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Specialty</label>
                            <input type="text" class="form-control" name="specialty" placeholder="e.g., Healthcare, Technology" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Panel Size</label>
                            <input type="number" class="form-control" name="panel_size" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Average CPC ($)</label>
                            <input type="number" step="0.01" class="form-control" name="avg_cpc" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Countries (comma-separated)</label>
                            <input type="text" class="form-control" name="countries" placeholder="US, CA, UK" required>
                        </div>
                        <div class="form-actions">
                            <button type="button" class="btn btn--outline close-modal">Cancel</button>
                            <button type="submit" class="btn btn--primary">Add Vendor</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Survey Builder Modal -->
    <div id="survey-builder-modal" class="modal modal--large hidden">
        <div class="modal-overlay">
            <div class="modal-content card">
                <div class="card__header">
                    <h3>Survey Builder</h3>
                    <button class="close-modal">&times;</button>
                </div>
                <div class="card__body">
                    <div class="survey-builder">
                        <div class="form-group">
                            <label class="form-label">Survey Name</label>
                            <input type="text" class="form-control" id="survey-name" placeholder="Enter survey name">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Associated Project</label>
                            <select class="form-control" id="survey-project">
                                <option value="">Select a project</option>
                            </select>
                        </div>
                        
                        <div class="questions-section">
                            <h4>Pre-screener Questions</h4>
                            <div id="questions-list">
                                <!-- Questions will be populated here -->
                            </div>
                            <button type="button" class="btn btn--outline" id="add-question-btn">Add Question</button>
                        </div>
                        
                        <div class="form-actions">
                            <button type="button" class="btn btn--outline close-modal">Cancel</button>
                            <button type="button" class="btn btn--primary" id="save-survey-btn">Save Survey</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Vendor Invitation Modal -->
    <div id="vendor-invitation-modal" class="modal hidden">
        <div class="modal-overlay">
            <div class="modal-content card">
                <div class="card__header">
                    <h3>Send Vendor Invitations</h3>
                    <button class="close-modal">&times;</button>
                </div>
                <div class="card__body">
                    <form id="vendor-invitation-form">
                        <div class="form-group">
                            <label class="form-label">Custom Message</label>
                            <textarea class="form-control" name="message" rows="4" placeholder="Enter custom message for vendors..."></textarea>
                        </div>
                        <div class="selected-vendors" id="selected-vendors-list">
                            <!-- Selected vendors will be shown here -->
                        </div>
                        <div class="form-actions">
                            <button type="button" class="btn btn--outline close-modal">Cancel</button>
                            <button type="submit" class="btn btn--primary">Send Invitations</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>